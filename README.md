# cvfeatures
维权特征

- 图片消重特征分为两类特征：
查询特征、验证特征
查询特征抽取：
图片被缩放至64x72大小，总共8x9个块，每个块的大小为8x8，每个块计算灰度均值
扫描每一行的图片块，比较相邻块均值的大小，如果右侧块均值比左侧块均值大10以上，则生成比特1，否则生成比特0
总共64比特，64比特被均分成4份，每份合成一个搜索key
验证特征：
图片被缩放至80x80，总共5x5个块，每块的大小为16x16，计算每个块的均值、方差和偏度，总共75个浮点值
两个图片是否重复需要验证此特征的欧式距离
消重特征被写入到elasticsearch当中，每个item的数据结构如下：
image_id           string        图片的内部id
image_url          string        缩略图的地址
key                [int]         由16比特搜索key组成的数组
signature          bigint        由64比特查询特征组成的图片签名
verify_signature   [float]       75维的浮点特征
site_match可以用来对某个站点的图片进行查重处理。
不同类型的图片被索引为不同的doc_type，因此在具体使用过程中需要注意修改此参数
